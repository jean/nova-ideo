<!DOCTYPE html>
<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:define-macro="main"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="novaideo"
      tal:define="mp request.sdiapi.mgmt_path;
      su request.static_url;
      sdititle request.sdiapi.sdi_title()">
  <head>

    <more tal:omit-tag="" metal:define-slot="head-first"></more>

    <meta charset="utf-8"/>
    <title metal:define-slot="page-title">${view.title | request.sdiapi.sdi_title()}</title>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0"/>

    <!-- HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->


    <!-- Styles -->
    <!--! sdi_bootstrap.css includes bootstrap and sdi-specific css generated by LESS -->
    <link href="${su('substanced.sdi:static/css/sdi_bootstrap.css')}"
          rel="stylesheet"/>
    <link href="${su('daceui:static/css/dace_ui.css')}"
          rel="stylesheet"/>
    <link href="${su('novaideo:static/css/novaideo_ui.css')}"
          rel="stylesheet"/>
    <link href="${su('novaideo:static/css/steps/steps.css')}"
          rel="stylesheet"/>
    <link href="${su('novaideo:static/switch-master/dist/css/bootstrap3/bootstrap-switch.css')}"
          rel="stylesheet"/>

    <!-- Fav icons -->
    <link rel="shortcut icon"
          href="${su('substanced.sdi:static/img/favicon.ico')}"/>

    <!-- Chart -->
     <script type="text/javascript" src="https://www.google.com/jsapi"></script>

    <!-- Scripts -->
    <script type="text/javascript">
      function novaideo_get_language(){
        return  '<tal:block >${request.locale_name}</tal:block>'
      };
    </script>
    <script src="${su('substanced.sdi:static/js/jquery-2.0.3.js')}"
            type="text/javascript"></script>
    <script src="${su('substanced.sdi:static/js/bootstrap.js')}"
            type="text/javascript"></script>
    <script src="${su('substanced.sdi:static/js/sdi.js')}"
            type="text/javascript"></script>
    <script src="${su('daceui:static/js/dace_ui.js')}"
            type="text/javascript"></script>
    <script src="${su('daceui:static/jquery.infinitescroll.js')}"
            type="text/javascript"></script>
    <script src="${su('daceui:static/jquery-endless-scroll/js/jquery.endless-scroll.js')}"
            type="text/javascript"></script>
    <script src="${su('novaideo:static/js/carhartl-jquery-cookie/jquery.cookie.js')}"
          type="text/javascript"></script>
    <script src="${su('novaideo:static/js/jquery-placeholder-master/jquery.placeholder.js')}"
          type="text/javascript"></script>
    <script src="${su('novaideo:static/js/novaideo_langs.js')}"
          type="text/javascript"></script>
    <script src="${su('novaideo:static/js/novaideo.js')}"
          type="text/javascript"></script>
    <script src="${su('novaideo:static/js/steps.js')}"
          type="text/javascript"></script>

    

    <more tal:omit-tag="" metal:define-slot="head-more"></more>

    <script src="${su('novaideo:static/switch-master/dist/js/bootstrap-switch.js')}"
          type="text/javascript"></script>
  </head>

  <body>
    <img class="loading-indicator"
         id="sdi-loading-img"
         src="${su('substanced.sdi:static/img/progress_bar.gif')}"
         style="display:none;"
         alt="Loading indicator"/>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        ${panel('usermenu')}
      </div>
    </div>
    <!-- bar  -->
    ${panel('usernavbar')}
    ${panel('novaideo_contents')}
    ${panel('steps')}
      <metal:slot metal:define-slot="outer-content">
        
        <div class="row clearfix novaideo-content">

          <div class="col-md-2 column ui-sortable novaideo-left">
            ${panel('adminnavbar')}
             <div metal:define-slot="left"></div>
          </div>

          <div class="col-md-7 column ui-sortable novaideo-main">
            <div class="above-content"></div>
            <div id="messages"
                 tal:attributes="class request.is_xhr and 'ajax-replace' or None">
              <div tal:repeat="queue ('', 'info', 'success', 'warning', 'danger')"
                   tal:omit-tag="">
                <div class="alert alert-${queue or 'info'}"
                     tal:define="messages request.session.pop_flash(queue)"
                     tal:condition="messages"
                     tal:repeat="message messages">
                  <button type="button" class="close" data-dismiss="alert">&times;</button>
                  ${structure:message}
                </div>
              </div>
            </div>

            <div class="inner-content">
               <div metal:define-slot="main"></div>
            </div>

            <div class="below-content"></div>
          </div>

          <div class="col-md-3 column ui-sortable novaideo-right">
             ${panel('contextual_help')}
             <div metal:define-slot="right"></div>
          </div>
        </div>

        <div class="row clearfix">
          <div class="col-md-12 column ui-sortable novaideo-footer">
             <div metal:define-slot="footer"></div>
          </div>
         </div>

      </metal:slot>

    <!--/div-->

    <more tal:omit-tag="" metal:define-slot="tail-more"></more>
    ${panel('novaideo_footer')}
    <!--TODO footer panel-->

  </body>

</html>
